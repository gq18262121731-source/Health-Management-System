# 老年人健康监测虚拟数据生成器

这是一个用于生成老年人健康监测系统虚拟数据的Python工具，适用于数据分析、系统测试和算法验证。

## 📋 项目简介

本项目为老年人健康监测系统生成完整的虚拟数据集，包括：
- 老人基础信息
- 用户账号和关系
- 健康检测记录（血压、血糖、血氧、心率、体温等）
- 健康评估结果
- AI问诊记录

## 📊 数据库设计

数据库包含以下6个核心表：

1. **elder_info** - 老人信息表
2. **user_account** - 用户账号表
3. **elder_user_relation** - 老人-用户关系表
4. **health_record** - 健康检测明细表
5. **assessment_result** - 评估结果表
6. **ai_consult_log** - AI问诊记录表

详细设计请参考 `数据库设计.txt` 文件。

## 🚀 快速开始

### 环境要求

- Python 3.8+
- pandas
- numpy

### 安装依赖

```bash
pip install pandas numpy
```

### 生成数据

运行生成脚本：

```bash
python generate_fake_data.py
```

这将生成 `fake_data.sql` 文件，包含3位老人的完整虚拟数据。

### 数据统计

默认生成的数据量：
- **老人信息**: 3条
- **用户账号**: 6条（3位老人 + 2位家属 + 1位社区医生）
- **关系表**: 8条
- **健康记录**: 120条（每人40条，覆盖2024年全年）
- **评估结果**: 24条（每人8次评估）
- **AI问诊**: 15条（每人5次问诊）

### 导入数据库

将生成的SQL文件导入MySQL数据库：

```bash
mysql -u 用户名 -p 数据库名 < fake_data.sql
```

或在MySQL客户端中执行：

```sql
source fake_data.sql;
```

## 📁 文件说明

- `generate_fake_data.py` - 数据生成主脚本
- `check_data_completeness.py` - 数据完整性检查脚本
- `fake_data.sql` - 生成的SQL数据文件
- `数据库设计.txt` - 数据库设计文档
- `表1_*.xlsx` - 数据字典参考文件

## 🎯 数据特点

### 3位示例老人

1. **张秀英**（79岁，女）
   - 慢病：高血压 + 2型糖尿病
   - 风险等级：HIGH（高风险）
   - 数据特点：血压和血糖控制需要加强

2. **李强**（76岁，男）
   - 慢病：高血压
   - 风险等级：MEDIUM（中等风险）
   - 数据特点：有吸烟史，血压波动较大

3. **王磊**（72岁，男）
   - 慢病：高脂血症
   - 风险等级：LOW（低风险）
   - 数据特点：整体健康状况良好，喜欢运动

### 数据特征

- ✅ 数据符合临床实际情况
- ✅ 慢病标签与体征数据匹配
- ✅ 时间序列数据完整（2024年全年）
- ✅ 包含完整的关联关系
- ✅ JSON字段包含结构化数据

## 🔧 自定义配置

在 `generate_fake_data.py` 中可以修改以下参数：

```python
N_ELDERS = 400              # 老人数量
RECORDS_PER_ELDER = 80     # 每位老人健康记录数
ASSESSMENTS_PER_ELDER = 10 # 每位老人评估次数
AI_LOGS_PER_ELDER = 8     # 每位老人AI问诊次数
```

## 📝 使用示例

### 检查数据完整性

```bash
python check_data_completeness.py
```

### 数据分析

生成的数据可以直接用于：
- 时间序列分析
- 风险评估模型训练
- 慢病管理算法验证
- 数据可视化

## ⚠️ 注意事项

1. 本数据为**虚拟数据**，仅用于测试和分析
2. 数据中的个人信息（姓名、电话等）均为虚构
3. 建议根据实际需求调整数据生成参数
4. 导入数据库前请确保表结构已创建

## 📄 许可证

本项目仅供学习和研究使用。

## 🤝 贡献

欢迎提交Issue和Pull Request！

## 📧 联系方式

如有问题或建议，请通过GitHub Issues联系。

---

**最后更新**: 2024年

