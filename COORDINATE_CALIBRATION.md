# 🎯 建筑坐标校准说明

## 📐 最新坐标数据（已根据红色标注框校准）

### 顶部一排（Y: 15% ~ 33%）
```
┌──────────┬──────────┬──────────┬──────────┐
│  1号楼   │  2号楼   │  3号楼   │  4号楼   │
│ X: 6%    │ X: 30%   │ X: 54%   │ X: 78%   │
│ W: 22%   │ W: 22%   │ W: 22%   │ W: 20%   │
│ H: 18%   │ H: 18%   │ H: 18%   │ H: 18%   │
│          │ ⚠️ 1个   │          │ ⚠️ 2个   │
└──────────┴──────────┴──────────┴──────────┘
```

### 中间一排（Y: 36% ~ 64%）
```
┌────────────┬──────────────┬────────────┐
│   5号楼    │    6号楼     │   7号楼    │
│  X: 8%     │   X: 48%     │  X: 80%    │
│  W: 28%    │   W: 30%     │  W: 18%    │
│  H: 28%    │   H: 28%     │  H: 28%    │
│ 较大建筑群 │  最大建筑群  │  竖向建筑  │
└────────────┴──────────────┴────────────┘
```

### 底部一排（Y: 67% ~ 97%）
```
┌──────────┬──────────────┬──────────────┐
│  8号楼   │    9号楼     │   10号楼     │
│  X: 0%   │   X: 17%     │   X: 48%     │
│  W: 16%  │   W: 27%     │   W: 30%     │
│  H: 30%  │   H: 30%     │   H: 30%     │
│ 左下方形 │  中下长方形  │  右下长方形  │
└──────────┴──────────────┴──────────────┘
```

---

## 🔧 图片显示设置

### 容器配置
```typescript
className="w-full h-full object-cover"
style={{ objectPosition: 'center center' }}
```

- ✅ **object-cover** - 填满容器宽度，无左右空白
- ✅ **center center** - 图片居中显示
- ✅ **w-full h-full** - 完整填充容器

---

## 📊 坐标校准依据

### 横向分布（X坐标）

**顶部4栋楼：**
- 1号楼起点：6%（左侧留小边距）
- 间距约：24-28%
- 4号楼终点：98%（78% + 20%）

**中间3栋楼：**
- 5号楼起点：8%
- 6号楼起点：48%（中间）
- 7号楼起点：80%（右侧）

**底部3栋楼：**
- 8号楼起点：0%（贴左边）
- 9号楼起点：17%
- 10号楼起点：48%（与6号楼对齐）

### 纵向分布（Y坐标）

**三排楼层：**
- 顶部排：Y = 15%（高度18%）
- 中间排：Y = 36%（高度28%，较高）
- 底部排：Y = 67%（高度30%，最高）

---

## 🎯 精确对齐要点

### 1️⃣ 垂直对齐
- **6号楼与10号楼**：X坐标都是48%，垂直对齐
- **顶部4栋楼**：Y坐标统一15%，水平对齐

### 2️⃣ 宽度比例
- **小型建筑**：8号楼(16%)、7号楼(18%)、4号楼(20%)
- **中型建筑**：1/2/3号楼(22%)、9号楼(27%)、5号楼(28%)
- **大型建筑**：6号楼(30%)、10号楼(30%)

### 3️⃣ 高度比例
- **顶部排**：18%（较矮的横向建筑）
- **中间排**：28%（中等高度）
- **底部排**：30%（最高的建筑）

---

## 🧪 快速验证方法

### 测试步骤

1. **启动应用**
   ```bash
   npm run dev
   ```

2. **导航到地图**
   - 社区端 → 数据大屏 → 滚动到底部

3. **逐栋验证**

**顶部一排：**
- [ ] 悬停1号楼 → 高亮左上角横向建筑
- [ ] 悬停2号楼 → 高亮中左横向建筑 + 1个黄色预警
- [ ] 悬停3号楼 → 高亮中右横向建筑
- [ ] 悬停4号楼 → 高亮右上角建筑 + 2个黄色预警

**中间一排：**
- [ ] 悬停5号楼 → 高亮左中大型建筑群
- [ ] 悬停6号楼 → 高亮中间最大建筑群
- [ ] 悬停7号楼 → 高亮右侧竖向建筑

**底部一排：**
- [ ] 悬停8号楼 → 高亮左下方形建筑（贴边）
- [ ] 悬停9号楼 → 高亮中下长方形建筑
- [ ] 悬停10号楼 → 高亮右下长方形建筑

### 对齐检查

**垂直对齐：**
- [ ] 6号楼和10号楼的左边缘对齐

**水平对齐：**
- [ ] 顶部4栋楼的顶边对齐
- [ ] 底部3栋楼的底边对齐

**间距检查：**
- [ ] 各建筑之间留有合适间距
- [ ] 无明显重叠或过大空隙

---

## 🔄 微调指南

如果某些建筑位置还需要微调，请按以下格式反馈：

### 反馈模板

```
楼栋：X号楼
问题：【偏左/偏右/偏上/偏下】约【X】%
建议调整：X坐标 ±X% 或 Y坐标 ±X%
```

### 示例

```
楼栋：5号楼
问题：偏右约3%
建议调整：X坐标从8%改为5%
```

### 调整方向说明

**X坐标（横向）：**
- 增加X → 建筑向右移动
- 减少X → 建筑向左移动

**Y坐标（纵向）：**
- 增加Y → 建筑向下移动
- 减少Y → 建筑向上移动

**Width（宽度）：**
- 增加W → 建筑变宽
- 减少W → 建筑变窄

**Height（高度）：**
- 增加H → 建筑变高
- 减少H → 建筑变矮

---

## 📏 测量工具建议

如果需要更精确的坐标，可以使用以下工具：

### 浏览器开发者工具
1. 打开地图页面
2. F12 打开开发者工具
3. 选择"检查元素"
4. 悬停在建筑热区上
5. 查看 style 中的坐标值

### 图片编辑软件
1. 在Figma/Photoshop中打开标注图
2. 使用标尺测量红框位置
3. 计算百分比：(像素值 / 总尺寸) × 100%
4. 提供给我更新代码

---

## 🎨 视觉调试

### 临时显示调试网格

如需显示网格辅助对齐，可以临时添加：

```tsx
{/* 调试网格 - 使用后删除 */}
<div className="absolute inset-0 pointer-events-none">
  {/* 垂直线 */}
  <div className="absolute left-[6%] top-0 bottom-0 w-px bg-red-500/50" />
  <div className="absolute left-[30%] top-0 bottom-0 w-px bg-red-500/50" />
  <div className="absolute left-[54%] top-0 bottom-0 w-px bg-red-500/50" />
  <div className="absolute left-[78%] top-0 bottom-0 w-px bg-red-500/50" />
  
  {/* 水平线 */}
  <div className="absolute top-[15%] left-0 right-0 h-px bg-blue-500/50" />
  <div className="absolute top-[36%] left-0 right-0 h-px bg-blue-500/50" />
  <div className="absolute top-[67%] left-0 right-0 h-px bg-blue-500/50" />
</div>
```

---

## 📊 坐标对比表

| 楼栋 | 旧X | 新X | 旧Y | 新Y | 旧W | 新W | 旧H | 新H | 变化说明 |
|------|-----|-----|-----|-----|-----|-----|-----|-----|----------|
| 1号楼 | 8% | 6% | 16% | 15% | 24% | 22% | 18% | 18% | 左移+收窄 |
| 2号楼 | 34% | 30% | 16% | 15% | 23% | 22% | 18% | 18% | 左移+微调 |
| 3号楼 | 58.5% | 54% | 16% | 15% | 23% | 22% | 18% | 18% | 左移+微调 |
| 4号楼 | 83% | 78% | 16% | 15% | 15.5% | 20% | 18% | 18% | 左移+加宽 |
| 5号楼 | 11% | 8% | 37% | 36% | 29% | 28% | 28% | 28% | 左移+微调 |
| 6号楼 | 53% | 48% | 37% | 36% | 28% | 30% | 28% | 28% | 左移+加宽 |
| 7号楼 | 83.5% | 80% | 37% | 36% | 15% | 18% | 28% | 28% | 左移+加宽 |
| 8号楼 | 1% | 0% | 68% | 67% | 17% | 16% | 30% | 30% | 贴边+微调 |
| 9号楼 | 19.5% | 17% | 68% | 67% | 28% | 27% | 30% | 30% | 左移+微调 |
| 10号楼 | 53% | 48% | 68% | 67% | 28% | 30% | 30% | 30% | 左移+加宽 |

**主要调整趋势：**
- ✅ 整体向左移动（X坐标减小）
- ✅ Y坐标微调（更精确对齐）
- ✅ 宽度优化（更贴合红框）

---

## 🎉 预期效果

调整后，当您测试地图时：

### 顶部一排
- 🟢 **1号楼**：左上角横向建筑，完美贴合红框
- 🟡 **2号楼**：中左横向建筑，右上角1个黄色脉冲预警
- 🟢 **3号楼**：中右横向建筑，完美贴合红框
- 🟡 **4号楼**：右上角建筑，右上角2个黄色脉冲预警

### 中间一排
- 🟢 **5号楼**：左中大型建筑群，完美覆盖
- 🟢 **6号楼**：中间最大建筑群，与10号楼垂直对齐
- 🟢 **7号楼**：右侧竖向建筑，完美贴合

### 底部一排
- 🟢 **8号楼**：左下方形建筑，贴左边
- 🟢 **9号楼**：中下长方形建筑
- 🟢 **10号楼**：右下长方形建筑，与6号楼垂直对齐

**所有建筑热区应该完全对齐红色标注框！** ✨

---

## 🚀 下一步

1. **立即测试** - 启动应用查看效果
2. **逐栋验证** - 检查每栋楼的对齐情况
3. **提供反馈** - 告诉我哪些需要微调
4. **最终校准** - 根据反馈精确调整

---

**校准时间：** 2025-11-29  
**校准版本：** v2.0  
**状态：** ✅ 已完成初步校准，等待验证
