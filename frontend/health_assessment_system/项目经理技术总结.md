# 项目经理技术总结

> 养生之道智能健康管理系统 - 项目全局技术概览

---

## 一、项目概述

### 1.1 项目定位
**面向老年人的智能健康管理系统**，集成 **数据采集分析、AI 智能问诊、语音交互** 三大核心能力，提供全方位健康管理服务。

### 1.2 核心价值
| 维度 | 能力 |
|------|------|
| 🏥 健康监测 | 血压、血糖、心率、睡眠等多维度健康数据采集与分析 |
| 🤖 AI 问诊 | 多智能体协作，提供专业健康咨询与报告 |
| 🎤 语音交互 | 适老化语音输入/输出，降低使用门槛 |
| 👨‍👩‍👧 多端协同 | 老人端、子女端、社区端三端联动 |

---

## 二、技术架构总览

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           系统整体架构图                                     │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│   ┌─────────────┐    ┌─────────────┐    ┌─────────────┐                     │
│   │  老人端     │    │  子女端     │    │  社区端     │    ← 前端应用        │
│   │  (React)    │    │  (React)    │    │  (React)    │                     │
│   └──────┬──────┘    └──────┬──────┘    └──────┬──────┘                     │
│          │                  │                  │                             │
│          └──────────────────┼──────────────────┘                             │
│                             ↓                                                │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                      后端 API 层 (Flask/FastAPI)                     │   │
│   │                                                                       │   │
│   │   /api/health/*     /api/voice/*     /api/ai/*     /api/user/*       │   │
│   │                                                                       │   │
│   └───────────────────────────────────────────────────────────────────────┘   │
│                             ↓                                                │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                        核心服务层                                     │   │
│   │                                                                       │   │
│   │  ┌───────────────┐  ┌───────────────┐  ┌───────────────┐             │   │
│   │  │  数据分析服务  │  │  AI 智能体服务 │  │   语音服务    │             │   │
│   │  │               │  │               │  │               │             │   │
│   │  │ • 数据清洗    │  │ • 多智能体    │  │ • ASR 识别   │             │   │
│   │  │ • 特征工程    │  │ • RAG 知识库  │  │ • TTS 合成   │             │   │
│   │  │ • 健康评估    │  │ • 报告生成    │  │ • 语音对话   │             │   │
│   │  └───────────────┘  └───────────────┘  └───────────────┘             │   │
│   └───────────────────────────────────────────────────────────────────────┘   │
│                             ↓                                                │
│   ┌─────────────────────────────────────────────────────────────────────┐   │
│   │                        基础设施层                                     │   │
│   │                                                                       │   │
│   │  ┌───────────┐  ┌───────────┐  ┌───────────┐  ┌───────────┐         │   │
│   │  │  MySQL    │  │  FAISS    │  │ DeepSeek  │  │ Edge-TTS  │         │   │
│   │  │  数据库   │  │  向量库   │  │  LLM API  │  │  语音API  │         │   │
│   │  └───────────┘  └───────────┘  └───────────┘  └───────────┘         │   │
│   └───────────────────────────────────────────────────────────────────────┘   │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 三、团队分工与模块对应

### 3.1 团队角色

| 角色 | 职责 | 核心产出 |
|------|------|----------|
| **数据分析师** | 数据采集、清洗、特征工程、健康评估 | 数据处理引擎 |
| **语音工程师** | ASR语音识别、TTS语音合成、语音交互 | 语音服务模块 |
| **AI工程师** | 多智能体系统、RAG知识库、LLM集成 | AI智能体引擎 |
| **前端开发** | React页面、适老化UI、三端界面 | 前端应用 |
| **项目经理** | 整体协调、架构设计、进度管理 | 项目交付 |

### 3.2 模块分工矩阵

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          模块分工矩阵                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│        数据分析师          语音工程师          AI工程师          前端开发    │
│            ↓                   ↓                  ↓                ↓        │
│   ┌───────────────┐   ┌───────────────┐   ┌───────────────┐   ┌─────────┐  │
│   │   数据层/     │   │ voice_api.py  │   │   agents/     │   │  src/   │  │
│   │   数据生成/   │   │ voiceApi.ts   │   │   modules/    │   │         │  │
│   │   modules/    │   │ ASR-LLM-TTS/  │   │   rag_*       │   │         │  │
│   │   core/       │   │               │   │               │   │         │  │
│   └───────────────┘   └───────────────┘   └───────────────┘   └─────────┘  │
│                                                                              │
│   代码量: ~6,000行      代码量: ~1,500行     代码量: ~3,700行    代码量: TBD │
│                                                                              │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 四、技术栈汇总

### 4.1 前端技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| React | 18.x | 前端框架 |
| TypeScript | 5.x | 类型安全 |
| Vite | 5.x | 构建工具 |
| TailwindCSS | 3.x | 样式框架 |
| Lucide React | - | 图标库 |
| Recharts | - | 数据可视化 |

### 4.2 后端技术栈

| 技术 | 版本 | 用途 |
|------|------|------|
| Python | 3.10+ | 后端语言 |
| Flask | 2.x | Web框架 (API) |
| SQLAlchemy | 2.x | ORM |
| Pandas | 2.x | 数据处理 |
| NumPy | 1.x | 数值计算 |
| SciPy | 1.x | 科学计算 |

### 4.3 AI/ML 技术栈

| 技术 | 用途 |
|------|------|
| DeepSeek API | 大语言模型 |
| FAISS | 向量检索 |
| SentenceTransformers | 文本向量化 |
| FunASR / SenseVoice | 语音识别 |
| Edge-TTS | 语音合成 |

### 4.4 基础设施

| 技术 | 用途 |
|------|------|
| MySQL / SQLite | 关系型数据库 |
| Git | 版本控制 |
| Docker (可选) | 容器化部署 |

---

## 五、代码规模统计

### 5.1 后端代码 (Python)

| 模块 | 文件数 | 代码行数 | 负责人 |
|------|--------|----------|--------|
| 数据生成 (`数据生成/`) | 5 | ~1,600 行 | 数据分析师 |
| 数据层 (`数据层/`) | 5 | ~2,500 行 | 数据分析师 |
| 评估模块 (`modules/`) | 8 | ~4,000 行 | 数据分析师 |
| 智能体 (`agents/`) | 8 | ~3,700 行 | AI工程师 |
| 语音API (`web_digital_human/`) | 3 | ~800 行 | 语音工程师 |
| **合计** | **~30** | **~12,600 行** | - |

### 5.2 前端代码 (TypeScript/React)

| 模块 | 说明 |
|------|------|
| `src/components/` | UI组件 |
| `src/pages/` | 页面 |
| `src/services/` | API服务封装 |
| `src/hooks/` | 自定义Hooks |

### 5.3 外部依赖

| 依赖 | 类型 | 说明 |
|------|------|------|
| ASR-LLM-TTS | Git子模块 | 语音处理工具库 |
| 医学知识库 | 数据文件 | RAG检索用 |

---

## 六、核心功能清单

### 6.1 功能模块

| 编号 | 功能模块 | 状态 | 优先级 |
|------|----------|------|--------|
| F01 | 健康数据采集 | ✅ 完成 | P0 |
| F02 | 数据异常值检测 | ✅ 完成 | P0 |
| F03 | 健康特征工程 | ✅ 完成 | P0 |
| F04 | 单病种风险评估 | ✅ 完成 | P0 |
| F05 | 综合健康评估 (AHP+TOPSIS) | ✅ 完成 | P1 |
| F06 | 多智能体对话 | ✅ 完成 | P0 |
| F07 | RAG 知识库检索 | ✅ 完成 | P1 |
| F08 | 语音识别 (ASR) | ✅ 完成 | P1 |
| F09 | 语音合成 (TTS) | ✅ 完成 | P1 |
| F10 | 健康报告生成 | ✅ 完成 | P0 |
| F11 | 趋势预警 | 🔄 开发中 | P1 |
| F12 | 三端界面 | 🔄 开发中 | P0 |

### 6.2 API 接口清单

| 接口分组 | 端点 | 功能 |
|----------|------|------|
| **健康数据** | `/api/health/today` | 今日健康数据 |
| | `/api/health/history` | 历史数据 |
| | `/api/health/assessment` | 健康评估 |
| | `/api/health/radar` | 雷达图数据 |
| **语音** | `/api/voice/asr` | 语音识别 |
| | `/api/voice/tts` | 语音合成 |
| | `/api/voice/chat` | 语音对话 |
| **AI** | `/api/ai/chat` | AI对话 |
| | `/api/ai/report` | 报告生成 |

---

## 七、核心算法清单

| 算法 | 应用场景 | 所属模块 |
|------|----------|----------|
| **IQR 四分位距法** | 异常值检测 | 数据分析 |
| **Z-Score 标准分** | 离群点检测 | 数据分析 |
| **线性回归** | 趋势分析 | 数据分析 |
| **AHP 层次分析法** | 权重确定 | 健康评估 |
| **TOPSIS** | 多准则决策 | 健康评估 |
| **FAISS 向量检索** | 知识库查询 | AI智能体 |
| **意图路由算法** | 智能体选择 | AI智能体 |

---

## 八、项目目录结构

```
智能诊断项目/
├── health_assessment_system/      # 后端核心
│   ├── 数据生成/                  # 模拟数据生成 (数据分析师)
│   ├── 数据层/                    # 数据处理层 (数据分析师)
│   ├── modules/                   # 评估算法模块 (数据分析师)
│   ├── agents/                    # AI智能体 (AI工程师)
│   ├── core/                      # 核心引擎
│   └── *.md                       # 技术文档
│
├── src/                           # 前端源码
│   ├── ASR-LLM-TTS-master/        # 语音工具库 (语音工程师)
│   ├── health_assessment_system/  # 后端API服务
│   │   └── web_digital_human/     # 数字人服务
│   │       └── voice_api.py       # 语音API (语音工程师)
│   ├── components/                # React组件
│   ├── pages/                     # 页面
│   └── services/                  # API封装
│
├── package.json                   # 前端依赖
├── vite.config.ts                 # Vite配置
└── README.md                      # 项目说明
```

---

## 九、技术风险与依赖

### 9.1 外部依赖风险

| 依赖项 | 风险等级 | 说明 | 应对方案 |
|--------|----------|------|----------|
| DeepSeek API | 🟡 中 | 第三方LLM服务 | 备选: Qwen本地部署 |
| Edge-TTS | 🟢 低 | 微软云服务，稳定 | 备选: pyttsx3离线 |
| SenseVoice | 🟢 低 | 阿里开源，可离线 | - |
| FAISS | 🟢 低 | 开源向量库 | 备选: 简化版numpy实现 |

### 9.2 技术债务

| 问题 | 影响 | 优先级 |
|------|------|--------|
| 前端VoiceInputButton使用Web Speech API | 兼容性差 | P1 需改为后端API |
| 部分模块缺少单元测试 | 代码质量 | P2 |
| API缺少统一错误处理 | 稳定性 | P2 |

---

## 十、交付物清单

### 10.1 代码产出

| 产出 | 说明 |
|------|------|
| `health_assessment_system/` | 后端核心代码 |
| `src/` | 前端应用代码 |
| `requirements.txt` | Python依赖 |
| `package.json` | 前端依赖 |

### 10.2 文档产出

| 文档 | 说明 |
|------|------|
| `数据分析师技术总结.md` | 数据处理技术文档 |
| `语音工程师技术总结.md` | 语音交互技术文档 |
| `人工智能工程师技术总结.md` | AI智能体技术文档 |
| `项目经理技术总结.md` | 项目全局技术文档 |
| `技术架构说明.md` | 架构设计文档 |

---

## 十一、总结

### 项目亮点

1. **完整的健康管理闭环**：数据采集 → 分析评估 → AI问诊 → 报告输出
2. **多智能体协作架构**：4个专业智能体分工协作
3. **适老化设计**：大字体、语音交互、温柔语气
4. **RAG增强问答**：基于医学知识库的专业回答
5. **模块化设计**：各模块职责清晰，便于并行开发

### 技术指标

| 指标 | 数值 |
|------|------|
| 后端代码量 | ~12,600 行 |
| 核心算法数 | 7 个 |
| API接口数 | 10+ 个 |
| 智能体数量 | 4 个 |
| 支持的健康指标 | 8 类 |

### 团队协作模式

```
项目经理 ─────────────────────────────────────────────────────────
    │
    ├── 数据分析师 ──→ 数据层 + 评估模块 ──→ 健康评估引擎
    │
    ├── 语音工程师 ──→ ASR + TTS ──→ 语音服务
    │
    ├── AI工程师 ──→ 智能体 + RAG ──→ AI问诊服务
    │
    └── 前端开发 ──→ React界面 ──→ 三端应用
```

---

*文档生成时间: 2024年12月*
*项目: 养生之道智能健康管理系统*
